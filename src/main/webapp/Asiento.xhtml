<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Prueba PrimeFaces</title>
</h:head>

<h:body>

    <h:form id="frmAsiento">
        <!-- Tabla para mostrar lista de Asientos -->
        <p:dataTable id="asientoTable"
                     value="#{frmAsiento.modelo}"
                     var="asiento"
                     lazy="true"
                     paginator="true"
                     rows="10"
                     selectionMode="single"
                     selection="#{frmAsiento.registro}"
                     rowKey="#{asiento.idAsiento}">

            <p:ajax event="rowSelect" update="detallePanel" />

            <!-- Columna ID de Asiento -->
            <p:column headerText="ID">
                <h:outputText value="#{asiento.idAsiento}" />
            </p:column>

            <!-- Columna Número de Asiento -->
            <p:column headerText="Número">
                <h:outputText value="#{asiento.numeroAsiento}" />
            </p:column>

            <!-- Columna Estado -->
            <p:column headerText="Estado">
                <h:outputText value="#{asiento.estadoAsiento}" />
            </p:column>

        </p:dataTable>
    </h:form>

    <!-- Panel de Detalles para el asiento seleccionado -->
    <h:panelGroup id="detallePanel" layout="block" rendered="#{not empty frmAsiento.registro}">
        <h:form id="detalleForm">
            <h:panelGrid columns="2">
                <p:outputLabel value="ID" for="txtId" />
                <h:inputText id="txtId" value="#{frmAsiento.registro.idAsiento}" readonly="true" />

                <p:outputLabel value="Número" for="txtNumero" />
                <h:inputText id="txtNumero" value="#{frmAsiento.registro.numeroAsiento}" />

                <p:outputLabel value="Estado" for="txtEstado" />
                <h:inputTextarea id="txtEstado" value="#{frmAsiento.registro.estadoAsiento}" rows="4" cols="30" />
            </h:panelGrid>

            <h:panelGrid columns="2">
                <p:commandButton value="Guardar" action="#{frmAsiento.guardar}" />
                <p:commandButton value="Cancelar" action="#{frmAsiento.cancelar}" />
            </h:panelGrid>
        </h:form>
    </h:panelGroup>


</h:body>
</html>